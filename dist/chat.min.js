(function(){"use strict";function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function b(a,b){var c=a.querySelector(".message-wrapper:last-child").querySelector(".text-wrapper");c.innerHTML=b}function c(a){setTimeout(function(){var b=a.querySelector(".message-wrapper:last-child").querySelector(".text-wrapper");b.className+=" animated fadeIn "},150)}function d(a){a.scrollTop=a.scrollHeight}function e(a){var b=a.value;window.messenger.send(b),a.value="",a.focus()}function f(a){o=document.all?window.event.clientX:a.pageX,p=document.all?window.event.clientY:a.pageY,null!==n&&(n.style.left=o-q+"px",n.style.top=p-r+"px")}function g(){n=null}var h,i,j,k,l,m;h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function(){function b(){a(this,b),this.messageWrapper="message-wrapper",this.circleWrapper="circle-wrapper",this.textWrapper="text-wrapper",this.meClass="me",this.themClass="them"}return h(b,[{key:"_build",value:function(a,b){var c=document.createElement("div");return c.className=this.messageWrapper+" "+this[b+"Class"],c.innerHTML='<div class="'+this.circleWrapper+' animated bounceIn"></div>\n              <div class="'+this.textWrapper+'">...</div>',c}},{key:"me",value:function(a){return this._build(a,"me")}},{key:"them",value:function(a){return this._build(a,"them")}}]),b}(),i=function(){function f(){a(this,f);var g=document.getElementById("input"),h=document.getElementById("send"),i=document.getElementById("content"),k=document.getElementById("inner"),l=(document.getElementById("chatjsicon"),document.getElementById("nav")),m=new j;g.focus(),this.messageList=[],this.deletedList=[],this.me=1,this.them=5,this.onRecieve=function(a){return console.log("recieving: ",a.text),i.appendChild(m.them(a.text)),b(i,a.text),c(i),d(k),console.log("Recieved: "+a.text)},this.onSend=function(a){return console.log("sending: ",a.text),i.appendChild(m.me(a.text)),b(i,a.text),c(i),d(k),console.log("Sent: "+a.text)},this.onDelete=function(a){return console.log("Deleted: "+a.text)},h.addEventListener("click",function(a){e(g)}),l.addEventListener("click",function(a){document.getElementById("wrapper").classList.toggle("minified-wrapper"),document.getElementById("default-nav").classList.toggle("minified-nav")}),g.addEventListener("keydown",function(a){var b=a.which||a.keyCode;13===b&&(a.preventDefault(),e(g))})}return h(f,[{key:"send",value:function(){var a=arguments.length<=0||void 0===arguments[0]?"":arguments[0];if(a=this.filter(a),this.validate(a)){var b={user:this.me,text:a,time:(new Date).getTime()};this.messageList.push(b),this.onSend(b)}}},{key:"recieve",value:function(){var a=arguments.length<=0||void 0===arguments[0]?"":arguments[0];if(a=this.filter(a),this.validate(a)){var b={user:this.them,text:a,time:(new Date).getTime()};this.messageList.push(b),this.onRecieve(b)}}},{key:"delete",value:function(a){a=a||this.messageLength-1;var b=this.messageLength.pop();this.deletedList.push(b),this.onDelete(b)}},{key:"filter",value:function(a){var b=a.replace("bad input","good output");return b}},{key:"validate",value:function(a){return!!a.length}}]),f}(),l=function(){var a=document.createElement("div");a.id="wrapper",a.className="wrapper",a.setAttribute("data-intro","Collaspable box"),a.setAttribute("data-position","left");var b=document.createElement("nav");b.id="nav",b.className="nav";var c=document.createElement("div");c.id="default-nav",c.className="default-nav";var d=document.createElement("div");d.className="main-nav";var e=document.createElement("div");e.id="chatjsicon",e.className="chatjsicon chatjsi",d.appendChild(e),c.appendChild(d),b.appendChild(c),a.appendChild(b);var f=document.createElement("div");f.id="inner",f.className="inner";var g=document.createElement("div");g.id="content",g.className="content",f.appendChild(g),a.appendChild(f);var h=document.createElement("div");h.id="bottom",h.className="bottom";var i=document.createElement("textarea");i.id="input",i.className="input",i.setAttribute("data-intro","Type your text here"),i.setAttribute("data-position","top"),h.appendChild(i);var j=document.createElement("div");j.id="send",j.className="send",j.setAttribute("data-intro","Send your messages from here"),j.setAttribute("data-position","right"),h.appendChild(j),a.appendChild(h),document.getElementsByTagName("body")[0].appendChild(a)},m=function(){var a='.minified-wrapper{                                          right:10px!important;                                          width: 60px!important;                                          height: 60px!important;                                          border-radius: 50px!important}.bottom .input:focus,.bottom .send:focus {                                            outline: 0;}*{ box-sizing: border-box }.bottom .send:hover,.nav .default-nav .main-nav .options:hover,.nav .default-nav .main-nav .toggle:hover{                                            cursor: pointer;}.wrapper{                                          height: 520px;                                          width: 320px;                                          overflow: hidden;                                          background-color: #fff;                                          position: fixed;                                          bottom: 10px;                                          left: 50%;                                          -ms-transform: translateX(-50%);                                          -moz-transform: translateX(-50%);                                          -webkit-transform: translateX(-50%);                                          transform: translateX(-50%);                                          box-shadow: 0 3px 3px 0 rgba(50, 50, 50, .5);                                          transition: .3s ease}.wrapper .inner {                                          height: 390px;                                          overflow:auto;                                          background: #f2f2f2;                                          -ms-overflow-style: none;                                          overflow: -moz-scrollbars-none}.nav .default-nav,.nav .default-nav .main-nav {                                          left: 0;                                          width: 100%;height: 64px;                                          transition: .3s ease;                                          top: 0}.wrapper .inner .content {                                          padding: 10.66666667px;                                          position: relative;                                          margin-bottom: 42px}.nav {                                          position: relative;                                          top: 0;                                          left: 0;                                          right: 0;                                          height: 64px;                                          z-index: 100;                                          transition: .3s ease}.nav .minified-nav {                                          border-radius: 50px}.nav .default-nav {                                          position: absolute;                                          z-index: 110;                                          background-color: #b7170b;                                          border-bottom: 3px solid #b7170b;                                          color: #fff;                                          -webkit-box-shadow: 0 3px 3px 0 rgba(50, 50, 50, .1);                                          -moz-box-shadow: 0 3px 3px 0 rgba(50, 50, 50, .1);                                          box-shadow: 0 3px 3px 0 rgba(50, 50, 50, .1)}.nav .default-nav .main-nav {                                          position: absolute;                                          margin: 0;                                          padding: 0;                                          list-style: none}.chatjsicon {                                        position: absolute;                                        width: 25px;                                        height: 20px;                                        border-radius: 50%;                                        background: #ECECEC;                                        border: 1px solid rgba(0,0,0,0.1);                                        box-shadow:                                          inset 0 5px 0 rgba(255,255,255,0.3),                                          inset 0 -5px 0 rgba(180,180,180,0.1),                                          0 0 10px rgba(0,0,0,0.1),                                          0 3px 3px rgba(0,0,0,0.2);}.chatjsicon:after {                                        content: "";                                        width: 4px;                                        height: 10px;                                        border: 1px solid rgba(0,0,0,0.1);                                        border-top: none;                                        border-left: none;                                        display: block;                                        position: absolute;                                        bottom: -4px;                                        left: 60%;                                        background: #E9E9E9;                                        box-shadow: 0 5px 2px rgba(0,0,0,0.2);                                        transform: skewY(35deg);                                        -ms-transform: skewY(35deg);                                        -moz-transform: skewY(35deg);                                        -webkit-transform: skewY(35deg);}.chatjsi {                                        background: #EFEFEF;                                        left: 17px;                                        top: 19px;}.bottom,.bottom .input {                                        height: 64px;                                        background: #fff;                                        left: 0}.nav .default-nav .main-nav .main-nav-item {                                        float: left;                                        height: 64px;                                        margin-right: 50px;                                        position: relative;                                        line-height: 64px;                                        transition: .3s ease}.nav .default-nav .main-nav .main-nav-item .main-nav-item-link {                                        display: block;                                        position: relative;                                        height: 64px;                                        width: 100%;                                        text-align: center;                                        line-height: 64px;                                        text-decoration: none;                                        color: inherit;                                        transition: .3s ease}.bottom {                                          position: relative;                                          bottom: 0;                                          left: 0;                                          right: 0;                                          height: 64px;                                          z-index: 100;}.bottom .input {                                        border: none;                                        width: 80%;                                        position: absolute;                                        top: 0;                                        padding: 0 5%;                                        resize: none;                                        padding-top: 24px;                                        font-weight: 300;                                        -ms-overflow-style: none;                                        overflow: -moz-scrollbars-none}.bottom .send {                                      position: absolute;                                      height: 42.66666667px;                                      width: 42.66666667px;                                      border-radius: 50%;                                      border: 0;                                      background: #b7170b;                                      color: #fff;                                      bottom: 10.66666667px;                                      right: 10.66666667px}.bottom .send:before {                                      content: "";                                      background: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/104946/ic_send_white_48dp.png) center center no-repeat;                                      background-size: 25.6px;                                      position: absolute;                                      top: 0;                                      left: 0;                                      right: 0;                                      bottom: 0}.message-wrapper {                                      position: relative;                                      overflow: hidden;                                      width: 100%;                                      margin: 10.66666667px 0;                                      padding: 10.66666667px 0}.message-wrapper .circle-wrapper {                                      height: 42.66666667px;                                      width: 42.66666667px;                                      border-radius: 50%}.message-wrapper .text-wrapper {                                      padding: 10.66666667px;                                      min-height: 42.66666667px;                                      width: 60%;                                      margin: 0 10.66666667px;                                      box-shadow: 0 1px 0 0 rgba(50, 50, 50, .3);                                      border-radius: 2px;                                      font-weight: 300;                                      position: relative;                                      opacity: 0}.message-wrapper .text-wrapper:before {                                      content: "";                                      width: 0;                                      height: 0;                                      border-style: solid}.message-wrapper.them .circle-wrapper,.message-wrapper.them .text-wrapper {                                      background: #b7170b;                                      float: left;                                      color: #fff}.message-wrapper.them .text-wrapper:before {                                      border-width: 0 10px 10px 0;                                      border-color: transparent #b7170b transparent transparent;                                      position: absolute;                                      top: 0;                                      left: -9px}.message-wrapper.me .circle-wrapper,.message-wrapper.me .text-wrapper {                                      background: #ff5722;                                      float: right;                                      color: #333}.message-wrapper.me .text-wrapper {                                      background: #fff !important;                                      word-wrap: break-word;}.message-wrapper.me .text-wrapper:before {                                      border-width: 10px 10px 0 0;                                      border-color: #fff transparent transparent;                                      position: absolute;                                      top: 0;                                      right: -9px}.animated {                                      -webkit-animation-duration: 1s;                                      animation-duration: 1s;                                      -webkit-animation-fill-mode: both;                                      animation-fill-mode: both}.fadeIn {                                      -webkit-animation-name: fadeIn;                                      animation-name: fadeIn}@-webkit-keyframes fadeIn {0% {  opacity: 0 } 100% { opacity: 1 }}.wrapper .inner::-webkit-scrollbar { width: 0!important}.bottom .input::-webkit-scrollbar { width: 0!important}@keyframes fadeIn { 0% {  opacity: 0 } 100% {  opacity: 1 }}',b=document.createElement("style");b.type="text/css",b.innerHTML=a,document.getElementsByTagName("head")[0].appendChild(b)};var n=null,o=0,p=0,q=0,r=0;document.onmousemove=f,document.onmouseup=g,k=function(){return l(),m(),window.messenger=new t.Messenger,messenger};var s=function(){document.getElementById("wrapper").className+=" minified-wrapper",document.getElementById("default-nav").className+=" minified-nav"},t={_createClass:h,Messenger:i,BuildHTML:j,init:k,minify:s};window.chatMessenger=t,"function"==typeof window.define&&window.define.amd&&window.define("chatMessenger",[],function(){return window.chatMessenger})}).call(this);