(function(){"use strict";function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b,c,d,e,f,g;b=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),c=function(){function c(){a(this,c),this.messageList=[],this.deletedList=[],this.me=1,this.them=5,this.onRecieve=function(a){return console.log("Recieved: "+a.text)},this.onSend=function(a){return console.log("Sent: "+a.text)},this.onDelete=function(a){return console.log("Deleted: "+a.text)}}return b(c,[{key:"send",value:function(){var a=arguments.length<=0||void 0===arguments[0]?"":arguments[0];if(a=this.filter(a),this.validate(a)){var b={user:this.me,text:a,time:(new Date).getTime()};this.messageList.push(b),this.onSend(b)}}},{key:"recieve",value:function(){var a=arguments.length<=0||void 0===arguments[0]?"":arguments[0];if(a=this.filter(a),this.validate(a)){var b={user:this.them,text:a,time:(new Date).getTime()};this.messageList.push(b),this.onRecieve(b)}}},{key:"delete",value:function(a){a=a||this.messageLength-1;var b=this.messageLength.pop();this.deletedList.push(b),this.onDelete(b)}},{key:"filter",value:function(a){var b=a.replace("bad input","good output");return b}},{key:"validate",value:function(a){return!!a.length}}]),c}(),d=function(){function c(){a(this,c),this.messageWrapper="message-wrapper",this.circleWrapper="circle-wrapper",this.textWrapper="text-wrapper",this.meClass="me",this.themClass="them"}return b(c,[{key:"_build",value:function(a,b){var c=document.createElement("div");return c.className=this.messageWrapper+" "+this[b+"Class"],c.innerHTML='<div class="'+this.circleWrapper+' animated bounceIn"></div>\n              <div class="'+this.textWrapper+'">...</div>',c}},{key:"me",value:function(a){return this._build(a,"me")}},{key:"them",value:function(a){return this._build(a,"them")}}]),c}(),f=function(){var a=document.createElement("div");a.id="wrapper",a.className="wrapper";var b=document.createElement("nav");b.id="nav",b.className="nav";var c=document.createElement("div");c.id="default-nav",c.className="default-nav";var d=document.createElement("div");d.className="main-nav";var e=document.createElement("div");e.id="nudgeOptions",e.className="nudgeOptions",d.appendChild(e),c.appendChild(d),b.appendChild(c),a.appendChild(b);var f=document.createElement("div");f.id="inner",f.className="inner";var g=document.createElement("div");g.id="content",g.className="content",f.appendChild(g),a.appendChild(f);var h=document.createElement("div");h.id="bottom",h.className="bottom";var i=document.createElement("textarea");i.id="input",i.className="input",h.appendChild(i);var j=document.createElement("div");j.id="send",j.className="send",h.appendChild(j),a.appendChild(h),document.getElementsByTagName("body")[0].appendChild(a)},g=function(){var a=[".minified-wrapper{                                          right:10px!important;                                          width: 60px!important;                                          height: 60px!important;                                          border-radius: 50px!important}",".bottom .input:focus,.bottom .send:focus {                                            outline: 0;}","*{ box-sizing: border-box }",".bottom .send:hover,.nav .default-nav .main-nav .options:hover,.nav .default-nav .main-nav .toggle:hover{                                            cursor: pointer;}",".wrapper{                                          height: 520px;                                          width: 320px;                                          overflow: hidden;                                          background-color: #fff;                                          position: fixed;                                          bottom: 10px;                                          right: -100px;                                          transform: translateX(-50%);                                          box-shadow: 0 3px 3px 0 rgba(50, 50, 50, .5);                                          transition: .3s ease}",".wrapper .inner {                                          height: 520px;                                          padding-top: 64px;                                          overflow:auto;                                          background: #f2f2f2;                                          -ms-overflow-style: none;                                          overflow: -moz-scrollbars-none}",".wrapper .inner::-webkit-scrollbar {                                          width: 0!important}",".nav .default-nav,.nav .default-nav .main-nav {                                          left: 0;                                          width: 100%;height: 64px;                                          transition: .3s ease;                                          top: 0}",".wrapper .inner .content {                                          padding: 10.66666667px;                                          position: relative;                                          margin-bottom: 42px}",".nav {                                          position: fixed;                                          top: 0;                                          left: 0;                                          right: 0;                                          height: 64px;                                          z-index: 100;                                          transition: .3s ease}",".nav .minified-nav {                                          border-radius: 50px}",".nav .default-nav {                                          position: absolute;                                          z-index: 110;                                          background-color: #f44336;                                          border-bottom: 3px solid #ea1c0d;                                          color: #fff;                                          -webkit-box-shadow: 0 3px 3px 0 rgba(50, 50, 50, .1);                                          -moz-box-shadow: 0 3px 3px 0 rgba(50, 50, 50, .1);                                          box-shadow: 0 3px 3px 0 rgba(50, 50, 50, .1)}",".nav .default-nav .main-nav {                                          position: absolute;                                          margin: 0;                                          padding: 0;                                          list-style: none}",".nudgeOptions {                                          width: 25px;                                          height: 20px;                                          background-size: contain;                                          margin: 16px;                                          position: absolute;                                          right: 12px;                                          top:5px;                                          margin-right: 0.3em;                                          border-top: 0.2em solid #fff;                                          border-bottom: 0.2em solid #fff;}",'.nudgeOptions:before {                                          content: "";                                          position: absolute;                                          top: 0.3em;                                          left: 0px;                                          width: 100%;                                          border-top: 0.2em solid #fff;}',".bottom,.bottom .input {                                        height: 64px;                                        background: #fff;                                        left: 0}",".nav .default-nav .main-nav .main-nav-item {                                        float: left;                                        height: 64px;                                        margin-right: 50px;                                        position: relative;                                        line-height: 64px;                                        transition: .3s ease}",".nav .default-nav .main-nav .main-nav-item .main-nav-item-link {                                        display: block;                                        position: relative;                                        height: 64px;                                        width: 100%;                                        text-align: center;                                        line-height: 64px;                                        text-decoration: none;                                        color: inherit;                                        transition: .3s ease}",".bottom {                                        position: fixed;                                        bottom: 0;                                        right: 0}",".bottom .input {                                        border: none;                                        width: 80%;                                        position: absolute;                                        top: 0;                                        padding: 0 5%;                                        resize: none;                                        padding-top: 24px;                                        font-weight: 300;                                        -ms-overflow-style: none;                                        overflow: -moz-scrollbars-none}",".bottom .input::-webkit-scrollbar {                                        width: 0!important}",".bottom .send {                                      position: fixed;                                      height: 42.66666667px;                                      width: 42.66666667px;                                      border-radius: 50%;                                      border: 0;                                      background: #f44336;                                      color: #fff;                                      bottom: 10.66666667px;                                      right: 10.66666667px}",'.bottom .send:before {                                      content: "";                                      background: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/104946/ic_send_white_48dp.png) center center no-repeat;                                      background-size: 25.6px;                                      position: absolute;                                      top: 0;                                      left: 0;                                      right: 0;                                      bottom: 0}',".message-wrapper {                                      position: relative;                                      overflow: hidden;                                      width: 100%;                                      margin: 10.66666667px 0;                                      padding: 10.66666667px 0}",".message-wrapper .circle-wrapper {                                      height: 42.66666667px;                                      width: 42.66666667px;                                      border-radius: 50%}",".message-wrapper .text-wrapper {                                      padding: 10.66666667px;                                      min-height: 42.66666667px;                                      width: 60%;                                      margin: 0 10.66666667px;                                      box-shadow: 0 1px 0 0 rgba(50, 50, 50, .3);                                      border-radius: 2px;                                      font-weight: 300;                                      position: relative;                                      opacity: 0}",'.message-wrapper .text-wrapper:before {                                      content: "";                                      width: 0;                                      height: 0;                                      border-style: solid}',".message-wrapper.them .circle-wrapper,.message-wrapper.them .text-wrapper {                                      background: #f44336;                                      float: left;                                      color: #fff}",".message-wrapper.them .text-wrapper:before {                                      border-width: 0 10px 10px 0;                                      border-color: transparent #f44336 transparent transparent;                                      position: absolute;                                      top: 0;                                      left: -9px}",".message-wrapper.me .circle-wrapper,.message-wrapper.me .text-wrapper {                                      background: #ff5722;                                      float: right;                                      color: #333}",".message-wrapper.me .text-wrapper {                                      background: #fff !important;                                      word-wrap: break-word;}",".message-wrapper.me .text-wrapper:before {                                      border-width: 10px 10px 0 0;                                      border-color: #fff transparent transparent;                                      position: absolute;                                      top: 0;                                      right: -9px}",".animated {                                      -webkit-animation-duration: 1s;                                      animation-duration: 1s;                                      -webkit-animation-fill-mode: both;                                      animation-fill-mode: both}",".fadeIn {                                      -webkit-animation-name: fadeIn;                                      animation-name: fadeIn}","@-webkit-keyframes fadeIn {                                      0% {  opacity: 0 }                                      100% { opacity: 1 }}","@keyframes fadeIn {                                      0% {  opacity: 0 }                                      100% {  opacity: 1 }}"];if(0==document.styleSheets.length){var b=document.createElement("style");b.type="text/css",document.getElementsByTagName("head")[0].appendChild(b)}for(var c=0;c<a.length;c++)document.styleSheets[0].insertRule(a[c],0)},e=function(){function a(a){var b=n.querySelector(".message-wrapper:last-child").querySelector(".text-wrapper");b.innerHTML=a}function b(){setTimeout(function(){var a=n.querySelector(".message-wrapper:last-child").querySelector(".text-wrapper");a.className+=" animated fadeIn "},350)}function c(){o.scrollTop=o.scrollHeight}function d(d){console.log("sending: ",d.text),n.appendChild(k.me(d.text)),a(d.text),b(),c()}function e(d){console.log("recieving: ",d.text),n.appendChild(k.them(d.text)),a(d.text),b(),c()}function i(){var a=l.value;j.send(a),l.value="",l.focus()}f(),g();var j=new h.Messenger,k=new h.BuildHTML,l=document.getElementById("input"),m=document.getElementById("send"),n=document.getElementById("content"),o=document.getElementById("inner"),p=document.getElementById("nudgeOptions");j.onSend=d,j.onRecieve=e,setTimeout(function(){j.recieve("Hello there!")},1500),setTimeout(function(){j.recieve("Do you like this? If so check out more on my page...")},5e3),setTimeout(function(){j.recieve("Or maybe just give it a like!")},7500),l.focus(),m.addEventListener("click",function(a){i()}),p.addEventListener("click",function(a){document.getElementById("wrapper").classList.toggle("minified-wrapper"),document.getElementById("default-nav").classList.toggle("minified-nav")}),l.addEventListener("keydown",function(a){var b=a.which||a.keyCode;13===b&&(a.preventDefault(),i())})};var h={_createClass:b,Messenger:c,BuildHTML:d,init:e};window.nudgeMessenger=h,"function"==typeof window.define&&window.define.amd&&window.define("openudge",[],function(){return window.openudge})}).call(this),define("main",function(){});